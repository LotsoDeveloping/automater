schema: http://localhost:8080/api/graphql
documents:
  - './src/**/*.graphql'
  - './src/**/*.ts'
  - '!./src/**/*.generated.ts'

config:
  namingConvention: keep
  # enumValues:
  #   EnumName: graphql/constants#EnumName

hooks:
  afterOneFileWrite:
    - prettier --write

generates:
  schema.graphql:
    plugins:
      - add:
          content:
            - '# =========== THIS FILE IS AUTOMATICALLY GENERATED =========== #'
            - ''
      - schema-ast

  src/graphql/types.ts:
    plugins:
      - add:
          content:
            - '// =========== THIS FILE IS AUTOMATICALLY GENERATED =========== //'
            - '/* eslint-disable */'
      - typescript

  src/graphql/introspection.ts:
    plugins:
      - add:
          content:
            - '// =========== THIS FILE IS AUTOMATICALLY GENERATED =========== //'
            - '/* eslint-disable */'
      - fragment-matcher

  src/:
    preset: near-operation-file
    presetConfig:
      extension: .generated.ts
      baseTypesPath: graphql/types.ts
    plugins:
      - add:
          content:
            - '// =========== THIS FILE IS AUTOMATICALLY GENERATED =========== //'
            - '/* eslint-disable */'
      - typescript
      - typescript-operations
      - typescript-react-apollo
    config:
      withComponent: false
      withHooks: true
      withHOC: false
      gqlImport: graphql.macro#gql
      reactApolloVersion: 3
      apolloReactHooksImportFrom: '@apollo/client'
